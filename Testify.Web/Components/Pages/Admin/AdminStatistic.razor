@page "/Admin/Statistic"
@layout AdminLayout

<div style="padding:20px; background-color: #fafafa; height: 100%">

    <MudGrid>
        <MudItem xl="6" xs="12" sm="6" md="6" lg="3" Style="padding: 10px 0 0 24px">
            <MudPaper Style="background-color: limegreen; padding: 20px; box-shadow: none">
                <MudGrid>
                    <MudItem xs="3">
                        <MudPaper Style="background-color: lightgreen; box-shadow: none; padding: 10px; display: flex; justify-content: center; align-items: center">
                            <svg width="35" height="35" viewBox="0 0 16.00 16.00" xmlns="http://www.w3.org/2000/svg" 
                            fill="#3db34b" stroke="#3db34b" transform="matrix(1, 0, 0, 1, 0, 0)rotate(0)" stroke-width="0.00016">
                                <g id="SVGRepo_bgCarrier" stroke-width="0">

                                </g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="0.032">

                                </g>
                                <g id="SVGRepo_iconCarrier">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm-1.02-4.13h-.71L4 8.6l.71-.71 1.92 1.92 4.2-4.21.71.71-4.56 4.56z">

                                    </path>
                                </g>
                            </svg>
                        </MudPaper>
                    </MudItem>

                    <MudItem xs="9" Style="text-align:  center">
                        <MudText Style="font-size: 18px; font-weight: bold">Đậu</MudText>
                        <MudText Style="font-size: 20px; font-weight: bold">1000</MudText>
                    </MudItem>
                </MudGrid>
            </MudPaper>
        </MudItem>

        <MudItem xl="6" xs="12" sm="6" md="6" lg="3" Style="padding: 10px 0 0 24px">
            <MudPaper Style="background-color: #F9E5EA; padding: 20px; box-shadow: none">
                <MudGrid>
                    <MudItem xs="3">
                        <MudPaper Style="background-color: #EF2B58; box-shadow: none; padding: 10px; display: flex; justify-content: center; align-items: center">
                            <svg width="35" height="35" viewBox="0 0 64 64" data-name="Layer 1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" fill="#000000" stroke="#000000" stroke-width="1.7920000000000003">
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier">
                                    <defs>
                                        <style>
                                            .cls-1 {
                                                fill: #ff0000;
                                            }</style>
                                    </defs><title></title><path class="cls-1" d="M47.91,53.91a5.93,5.93,0,0,1-4.24-1.76l-4.32-4.32A2,2,0,0,1,42.17,45l4.33,4.32a2,2,0,0,0,2.82,0,2,2,0,0,0,0-2.82L36.24,33.41a2,2,0,0,1,0-2.82L49.32,17.5a2,2,0,0,0,0-2.82,2,2,0,0,0-2.82,0L33.41,27.76a2,2,0,0,1-2.82,0L17.5,14.68a2,2,0,0,0-2.82,0,2,2,0,0,0,0,2.82L27.76,30.59a2,2,0,0,1,0,2.82L14.68,46.5a2,2,0,0,0,0,2.82,2,2,0,0,0,2.82,0L30.59,36.24a2,2,0,0,1,2.82,0l2.44,2.44A2,2,0,0,1,33,41.51l-1-1L20.33,52.15a6,6,0,1,1-8.48-8.48L23.51,32,11.85,20.33a6,6,0,1,1,8.48-8.48L32,23.51,43.67,11.85a6,6,0,1,1,8.48,8.48L40.49,32,52.15,43.67a6,6,0,0,1-4.24,10.24Z"></path>
                                </g>
                            </svg>
                        </MudPaper>
                    </MudItem>

                    <MudItem xs="9" Style="text-align:  center">
                        <MudText Style="font-size: 18px; font-weight: bold">Rớt</MudText>
                        <MudText Style="font-size: 20px; font-weight: bold">1000</MudText>
                    </MudItem>
                </MudGrid>
            </MudPaper>
        </MudItem>

        <MudItem xl="6" xs="12" sm="6" md="6" lg="3" Style="padding: 10px 0 0 24px">
            <MudPaper Style="background-color: #DFEDF7; padding: 20px; box-shadow: none">
                <MudGrid>
                    <MudItem xs="3">
                        <MudPaper Style="background-color: #1B8BE3; box-shadow: none; padding: 10px; display: flex; justify-content: center; align-items: center">
                            <svg fill="#ffffff" height="35px" width="35px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path d="M510.239,76.011L476.848,9.228C474.022,3.571,468.24,0,461.913,0s-12.109,3.571-14.935,9.228l-33.391,66.783 c-1.152,2.321-1.761,4.875-1.761,7.467v378.435c0,27.656,22.387,50.087,50.087,50.087C489.578,512,512,489.613,512,461.913V83.478 C512,80.886,511.391,78.332,510.239,76.011z M478.609,461.913c0,21.835-33.391,21.979-33.391,0v-16.696h33.391V461.913z M478.609,100.174h-33.391V87.418l16.696-33.391l16.696,33.391V100.174z"></path> </g> </g> <g> <g> <path d="M361.739,0H16.696C7.479,0,0,7.473,0,16.696v478.609C0,504.527,7.479,512,16.696,512h345.043 c9.217,0,16.696-7.473,16.696-16.696V16.696C378.435,7.473,370.956,0,361.739,0z M150.261,66.783h77.913 c9.217,0,16.696,7.473,16.696,16.696s-7.479,16.696-16.696,16.696h-77.913c-9.217,0-16.696-7.473-16.696-16.696 S141.044,66.783,150.261,66.783z M294.957,434.087H83.478c-9.217,0-16.696-7.473-16.696-16.696 c0-9.223,7.479-16.696,16.696-16.696h211.478c9.217,0,16.696,7.473,16.696,16.696 C311.652,426.614,304.174,434.087,294.957,434.087z M66.783,350.609c0-9.223,7.479-16.696,16.696-16.696h100.174 c9.217,0,16.696,7.473,16.696,16.696c0,9.223-7.479,16.696-16.696,16.696H83.478C74.261,367.304,66.783,359.831,66.783,350.609z M294.957,367.304h-44.522c-9.217,0-16.696-7.473-16.696-16.696c0-9.223,7.479-16.696,16.696-16.696h44.522 c9.217,0,16.696,7.473,16.696,16.696C311.652,359.831,304.174,367.304,294.957,367.304z M294.957,300.522H83.478 c-9.217,0-16.696-7.473-16.696-16.696c0-9.223,7.479-16.696,16.696-16.696h211.478c9.217,0,16.696,7.473,16.696,16.696 C311.652,293.049,304.174,300.522,294.957,300.522z M66.783,217.043c0-9.223,7.479-16.696,16.696-16.696h66.783 c9.217,0,16.696,7.473,16.696,16.696c0,9.223-7.479,16.696-16.696,16.696H83.478C74.261,233.739,66.783,226.266,66.783,217.043z M294.957,233.739h-77.913c-9.217,0-16.696-7.473-16.696-16.696c0-9.223,7.479-16.696,16.696-16.696h77.913 c9.217,0,16.696,7.473,16.696,16.696C311.652,226.266,304.174,233.739,294.957,233.739z M294.957,166.957H83.478 c-9.217,0-16.696-7.473-16.696-16.696s7.479-16.696,16.696-16.696h211.478c9.217,0,16.696,7.473,16.696,16.696 C311.652,159.484,304.174,166.957,294.957,166.957z"></path> </g> </g> </g></svg>
                        </MudPaper>
                    </MudItem>

                    <MudItem xs="9" Style="text-align:  center">
                        <MudText Style="font-size: 18px; font-weight: bold">Tổng số bài thi</MudText>
                        <MudText Style="font-size: 20px; font-weight: bold">1000</MudText>
                    </MudItem>
                </MudGrid>
            </MudPaper>
        </MudItem>
        <MudItem xl="6" xs="12" sm="6" md="6" lg="3" Style="padding: 10px 0 0 24px">
            <MudPaper Style="background-color: #FBEDD9; padding: 20px; box-shadow: none">
                <MudGrid>
                    <MudItem xs="3">
                        <MudPaper Style="background-color: #FFA427; box-shadow: none; padding: 10px; display: flex; justify-content: center; align-items: center">
                            <svg width="35px" height="35px" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#fff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M905.92 237.76a32 32 0 0 0-52.48 36.48A416 416 0 1 1 96 512a418.56 418.56 0 0 1 297.28-398.72 32 32 0 1 0-18.24-61.44A480 480 0 1 0 992 512a477.12 477.12 0 0 0-86.08-274.24z" fill="#ffffff"></path><path d="M630.72 113.28A413.76 413.76 0 0 1 768 185.28a32 32 0 0 0 39.68-50.24 476.8 476.8 0 0 0-160-83.2 32 32 0 0 0-18.24 61.44zM489.28 86.72a36.8 36.8 0 0 0 10.56 6.72 30.08 30.08 0 0 0 24.32 0 37.12 37.12 0 0 0 10.56-6.72A32 32 0 0 0 544 64a33.6 33.6 0 0 0-9.28-22.72A32 32 0 0 0 505.6 32a20.8 20.8 0 0 0-5.76 1.92 23.68 23.68 0 0 0-5.76 2.88l-4.8 3.84a32 32 0 0 0-6.72 10.56A32 32 0 0 0 480 64a32 32 0 0 0 2.56 12.16 37.12 37.12 0 0 0 6.72 10.56zM355.84 313.6a36.8 36.8 0 0 0-13.12 18.56l-107.52 312.96a37.44 37.44 0 0 0 2.56 35.52 32 32 0 0 0 24.96 10.56 27.84 27.84 0 0 0 17.28-5.76 43.84 43.84 0 0 0 10.56-13.44 100.16 100.16 0 0 0 7.04-15.36l4.8-12.8 17.6-49.92h118.72l24.96 69.76a45.76 45.76 0 0 0 10.88 19.2 28.8 28.8 0 0 0 20.48 8.32h2.24a27.52 27.52 0 0 0 27.84-15.68 41.28 41.28 0 0 0 0-29.44l-107.84-313.6a36.8 36.8 0 0 0-13.44-19.2 44.16 44.16 0 0 0-48 0.32z m24.32 96l41.6 125.44h-83.2zM594.88 544a66.56 66.56 0 0 0 25.6 4.16h62.4v78.72a29.12 29.12 0 0 0 32 32 26.24 26.24 0 0 0 27.2-16.32 73.28 73.28 0 0 0 4.16-26.24v-66.88h73.6a27.84 27.84 0 0 0 29.44-32 26.56 26.56 0 0 0-16-27.2 64 64 0 0 0-23.04-4.16h-64v-75.84a28.16 28.16 0 0 0-32-30.08 26.56 26.56 0 0 0-27.2 15.68 64 64 0 0 0-4.16 24v66.88h-62.72a69.44 69.44 0 0 0-25.6 4.16 26.56 26.56 0 0 0-15.68 27.2 25.92 25.92 0 0 0 16 25.92z" fill="#ffffff"></path></g></svg>
                        </MudPaper>
                    </MudItem>

                    <MudItem xs="9" Style="text-align:  center">
                        <MudText Style="font-size: 18px; font-weight: bold">Điểm trung bình</MudText>
                        <MudText Style="font-size: 20px; font-weight: bold">1000</MudText>
                    </MudItem>
                </MudGrid>
            </MudPaper>
        </MudItem>
    </MudGrid>


    <MudGrid Style="margin-top: 2rem">
        <MudItem xl="4" lg="4" md="12" sm="12" xs="12">
            <MudPaper style="display: flex; flex-direction: column; height: 100%; justify-content: center">
                <MudPaper Style="background-color: transparent; box-shadow: none">
                    <MudChart ChartType="ChartType.Pie" InputData="@data" @bind-SelectedIndex="Index" InputLabels="@labels" Width="300px" Height="300px" />
                </MudPaper>
                
                <MudPaper Class="pa-4 mt-2 d-flex justify-center" Style="background-color: transparent; box-shadow: none">
                    <MudButton OnClick="AddDataSize" Variant="Variant.Filled" Color="Color.Primary">Add</MudButton>
                    <MudButton @onclick="RandomizeData" Variant="Variant.Filled" Class="mx-4">Randomize</MudButton>
                    <MudButton OnClick="RemoveDataSize" Variant="Variant.Filled" Color="Color.Secondary">Remove</MudButton>

                </MudPaper>
                    
                
            </MudPaper>
            
            
        </MudItem>

        <MudItem  xl="8" lg="8" md="12" sm="12" xs="12">
            <MudGrid Style="align-items: center">
                <MudItem xl="6" lg="4" md="3" sm="2" xs="12">
                    <MudText Style="font-size: 16px; font-weight: bold">Tỷ lệ trả lời đúng sai</MudText>
                </MudItem>
                <MudItem xl="6" lg="8" md="9" sm="10" xs="12">
                    <MudSelect Margin="Margin.Dense" T="string" Label="Kì thi cuối kì 1" Variant="Variant.Outlined">
                        <MudSelectItem Value="@("Kì thi cuối kì 1")" />
                        <MudSelectItem Value="@("Kì thi cuối kì 2")" />
                        <MudSelectItem Value="@("Kì thi HSG")" />
                    </MudSelect>
                </MudItem>
            </MudGrid>
            <MudChart ChartType="ChartType.StackedBar" ChartSeries="@Series" XAxisLabels="@XAxisLabels" Width="100%" Height="350px">
                <CustomGraphics>
                    <style>
                        .heavy {
                            font: bold 30px Helvetica;
                        }

                        .Rrrrr {
                            font: italic 40px Helvetica;
                            fill: rgb(62,44,221);
                        }
                    </style>
                    
                </CustomGraphics>
            </MudChart>
        </MudItem>
    </MudGrid>

    <MudGrid >


        <MudItem xl="12" lg="12" md="12" sm="12" xs="12">
            
          
        </MudItem>
       
    </MudGrid>

    
</div>

@code {

   
    private int Index = -1; //default value cannot be 0 -> first selectedindex is 0.
    int dataSize = 4;
    double[] data = { 77, 25, 20, 5 };
    string[] labels = { "Xuất Sắc ", "Giỏi", "Khá", "Trung Bình", "Yếu ", "Kém",
                        "Polonium", "Astatine", "Radon", "Francium", "Radium", "Actinium", "Protactinium",
                        "Neptunium", "Americium", "Curium", "Berkelium", "Californium", "Einsteinium", "Mudblaznium" };

    Random random = new Random();

    void RandomizeData()
    {
        var new_data = new double[dataSize];
        for (int i = 0; i < new_data.Length; i++)
            new_data[i] = random.NextDouble() * 100;
        data = new_data;
        StateHasChanged();
    }

    void AddDataSize()
    {
        if (dataSize < 20)
        {
            dataSize = dataSize + 1;
            RandomizeData();
        }
    }
    void RemoveDataSize()
    {
        if (dataSize > 0)
        {
            dataSize = dataSize - 1;
            RandomizeData();
        }
    }


    ///
    public List<ChartSeries> Series = new List<ChartSeries>()
    {
        new ChartSeries() { Name = "Đúng ", Data = new double[] { 40, 20, 25, 27, 46, 46, 48, 44, 15 } },
        new ChartSeries() { Name = "Sai", Data = new double[] { 19, 24, 35, 13, 28, 15, 13, 16, 40 } },
        new ChartSeries() { Name = "Chưa Làm", Data = new double[] { 8, 6, 11, 13, 4, 16, 10, 16, 20 } },
    };
    public string[] XAxisLabels = { "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep" };



    
}
